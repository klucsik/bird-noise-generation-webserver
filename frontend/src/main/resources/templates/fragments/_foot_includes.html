<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

<!--todo kiszervezni külön fájlba, vmiért nem működik-->
<!--<script th:src="@{/js/script.js}"></script>-->
<script>
    $(document).ready(() => {
    });

    let howToIsOpen = false;

    const openHowTo = () => {
        const howToText = $("span.how-to-text").text();
        console.debug("++ howToText ++ ", howToText)
        let short = howToText;
        short = short.slice(0, 75);
        if (howToIsOpen) {
            $("span.how-to-text").text(short);
            howToIsOpen = false;
            console.debug("howToIsOpen", howToIsOpen)
        } else {
            $("span.how-to-text").text(howToText);
            howToIsOpen = true;
            console.debug("howToIsOpen", howToIsOpen)
            console.debug("howToText", howToText)

        }
    };

    $("div.menu-item").on({
        mouseenter: function () {
            const link = $(this)[0].getBoundingClientRect();

            const xPos = link.width / 2 + link.left;
            const yPos = link.top - 50;

            const translate = "translate(" + xPos + "px," + yPos + "px)";
            const scale = `scale(${link.width + 60},${link.height + 20})`;

            $("div.underline").css({
                transform: translate + " " + scale,
                transformOrigin: "center"
            });
        },
        mousedown: function () {
            // todo mi legyen az annimáció "lenyomáskor"
            console.debug("down")
            $(this).css()
        }
    });

    $("div.menu-item-container").on({
        mouseleave: function () {
            $("div.underline").css({
                transform: "scale(0,0) translate(0px,0px)"
            })
        }
    });

    $("g#g1389").hover(
        function () {
            $(this).css({
                transform: "translate(3px, 44px)",
                transition: "all 150ms ease-in-out"
            });
            $("g#g1642").css({
                transform: "rotate(11deg)",
                transformOrigin: "top",
                transition: "all 150ms ease-in-out"
            });
            $("path#path1200").animate()
            setTimeout(function () {
                $("g#g1389").css({
                    transform: "translate(3px, 48px) ",
                    transition: "all 150ms ease-in-out"
                });
                $("g#g1642").css({
                    transform: "rotate(0deg)",
                    transformOrigin: "top",
                    transition: "all 150ms ease-in-out"
                });
            }, 350);
        }, function () {
        }
    );

    let toggleSupportDiv = false;

    $("div.support-container").click(function () {
        if (toggleSupportDiv) {
            $(this).removeClass("row");
            $("div.support-container div").removeClass("col-sm-4");
            $("div.support-text.col-sm-8").hide();
            toggleSupportDiv = false;
        } else {
            $(this).addClass("row");
            $("div.support-container div").addClass("col-sm-4");
            $("div.support-text.col-sm-8").toggle();
            toggleSupportDiv = true;
        }
    })

</script>