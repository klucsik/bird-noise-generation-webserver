<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>device</title>

    <div th:insert="fragments/_header_includes"></div>

</head>
<body>

<div class="row">
    <div class="col-sm-1" th:insert="fragments/_menu"></div>
    <div class="col-sm-11">
        <div class="row justify-content-lg-around card-container">
            <div class="m-2 info-card d-flex flex-column justify-content-center align-items-center" style="position: relative">
                <div class="d-flex flex-column justify-content-center">
                    <span style="text-align: center; font-size: 1.8rem; font-weight: 400">Running devices</span>
                    <div class="d-flex justify-content-center">
                        <span style="text-align: center; font-size: 3.2rem; font-weight: 600; align-self: baseline">5</span>
                        <span style="font-size: 1.5rem; font-weight: bold; align-self: baseline">/8</span>
                    </div>
                </div>
                <div style="background-color: green; width: calc(5/8*100%); height: 5px; position: absolute; bottom: 0; left: 0"></div>
            </div>
            <div class="m-2 info-card d-flex flex-column justify-content-center align-items-center" style="position: relative">
                <div class="d-flex flex-column justify-content-center">
                    <span style="text-align: center; font-size: 1.8rem; font-weight: 400">Running devices</span>
                    <div class="d-flex justify-content-center">
                        <span style="text-align: center; font-size: 3.2rem; font-weight: 600; align-self: baseline">5</span>
                        <span style="font-size: 1.5rem; font-weight: bold; align-self: baseline">/8</span>
                    </div>
                </div>
                <div style="background-color: green; width: calc(5/8*100%); height: 5px; position: absolute; bottom: 0; left: 0"></div>
            </div>
            <div class="m-2 info-card d-flex flex-column justify-content-center align-items-center" style="position: relative">
                <div class="d-flex flex-column justify-content-center">
                    <span style="text-align: center; font-size: 1.8rem; font-weight: 400">Running devices</span>
                    <div class="d-flex justify-content-center">
                        <span style="text-align: center; font-size: 3.2rem; font-weight: 600; align-self: baseline">5</span>
                        <span style="font-size: 1.5rem; font-weight: bold; align-self: baseline">/8</span>
                    </div>
                </div>
                <div style="background-color: green; width: calc(5/8*100%); height: 5px; position: absolute; bottom: 0; left: 0"></div>
            </div>
            <div class="m-2 info-card d-flex flex-column justify-content-center align-items-center" style="position: relative">
                <div class="d-flex flex-column justify-content-center">
                    <span style="text-align: center; font-size: 1.8rem; font-weight: 400">Running devices</span>
                    <div class="d-flex justify-content-center">
                        <span style="text-align: center; font-size: 3.2rem; font-weight: 600; align-self: baseline">5</span>
                        <span style="font-size: 1.5rem; font-weight: bold; align-self: baseline">/8</span>
                    </div>
                </div>
                <div style="background-color: green; width: calc(5/8*100%); height: 5px; position: absolute; bottom: 0; left: 0"></div>
            </div>
        </div>
        <div class="mt-5 table-custom-style">
            <table id="deviceTable" class="table table-striped">
                <thead>
                <tr>
                    <th>id</th>
                    <th>name</th>
                    <th>chipId</th>
                    <th>location</th>
                    <th>status</th>
                    <th>Actions</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
</div>

<div th:insert="fragments/_foot_includes"></div>

<script th:inline="javascript">
    /*<![CDATA[*/
    var tableData = /*[[${deviceDtoList}]]*/;
    console.log(tableData);

    $('#deviceTable').DataTable({
        data: tableData,
        // select: true,
        columns: [
            {data: 'id'},
            {data: 'name'},
            {data: 'chipId'},
            {data: 'location'},
            {data: 'status'},
            {
                data: 'id',
                "fnCreatedCell": function (nTd, sData, oData, iRow, iCol) {
                    $(nTd).html("<span><a href='/device/" + oData.id + "'><span>edit </span></a></span>" +
                        "<span><a href='/device/" + oData.id + "/delete'><span>delete </span></a></span>" +
                        "<span><a href='/devicePlayParam" + "/page?id=" + oData.id + "'> <span>PlayParam</span> </a> </span>" +
                    "<span><a href='/device" + "/" + oData.id + "/log'> <span>logs</span> </a> </span>"
                    );

                },
                searchable: false
            }
        ]
    });

    /*]]>*/
</script>
</body>
</html>